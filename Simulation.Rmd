
<!-- Automatically generated by RStudio [12861c30b10411e1afa60800200c9a66] -->
### Simulation.R
tylerhaugseth --- *Mar 27, 2015, 1:22 PM*`r opts_chunk$set(tidy=FALSE, comment=NA, fig.path='figure-compile-notebook-12861c30b/')`
```{r}
#simulation
source("patient.R")
source("firstAvailableScheduling.R")
source("makeSchedule.R")
types <- c("acute","routine","well")
numproviders <- 3
numteams <- 2

# Start the clock!
Rprof()
#make random list of patients
#PatientList <- lapply (1 : 10000, function(x) patient(sample(types,1),sample(numproviders,1),sample(numteams,1)))

schedule <- makeSchedule(200,numteams,numproviders,3,7)

# for(i in 1:length(PatientList)) {
#       a <- firstAvailableScheduling(schedule,PatientList[[i]],1)
#       schedule <- a[[1]]
# }

for(j in 1:100) {
      PatientList <- lapply (1 : rpois(1,50), function(x) patient(sample(types,1),sample(numproviders,1),sample(numteams,1)))
      for(i in 1:length(PatientList)) {
            a <- firstAvailableScheduling(schedule,PatientList[[i]],j,FALSE)
            schedule <- a[[1]]
      }    
}

# Stop the clock
summaryRprof()
```
